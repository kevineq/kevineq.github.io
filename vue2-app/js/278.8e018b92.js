"use strict";(self["webpackChunkone_app"]=self["webpackChunkone_app"]||[]).push([[278],{6278:function(t,s,e){e.r(s),e.d(s,{default:function(){return v}});var i=function(){var t=this,s=t._self._c;return s("div",{staticClass:"author-view"},[t.AuthorContentList.length?s("div",{staticClass:"hot",attrs:{AuthorContentList:""}},[t._v(" 热门作者 ")]):t._e(),t._l(t.AuthorContentList,(function(e){return s("AuthorCard",{key:e.user_id,attrs:{listItem:e,keyArr:t.keyArr}})})),t.isloading?s("van-loading",{staticClass:"loading"}):t._e()],2)},l=[],o=(e(7658),e(881)),a=function(){var t=this,s=t._self._c;return s("div",{ref:"follow",staticClass:"list-item"},[s("div",{staticClass:"cover"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.listItem.web_url,expression:"listItem.web_url"}]})]),s("div",{staticClass:"info"},[s("div",{staticClass:"name"},[t._v(t._s(t.listItem.user_name))]),s("div",{staticClass:"desc"},[t._v(t._s(t.listItem.desc))])]),s("div",{staticClass:"follow",class:{active:t.isFollow},on:{click:t.follow}},[t._v(" "+t._s(t.isFollow?"已关注":"关注")+" ")])])},r=[],n={props:{listItem:Object,keyArr:Array},data(){return{isFollow:!1}},created(){this.followYesOrNo()},methods:{followYesOrNo(){this.$nextTick((()=>{let t=this.keyArr.indexOf(this.listItem.user_id);t>-1&&(this.isFollow=!0)}))},follow(){if(0==this.isFollow){let t="follow-"+this.listItem.user_id,s={id:this.listItem.user_id,webUrl:this.listItem.web_url,name:this.listItem.user_name,desc:this.listItem.desc};s=JSON.stringify(s),localStorage[t]=s,this.isFollow=!0}else{let t="follow-"+this.listItem.user_id;localStorage.removeItem(t),this.isFollow=!1}}}},c=n,u=e(1001),h=(0,u.Z)(c,a,r,!1,null,"061a8a95",null),d=h.exports,f=e(4787),m={beforeRouteEnter(t,s,e){e((t=>{let s=[];for(let e=0;e<localStorage.length;e++){let t=localStorage.key(e);"follow"==t.slice(0,6)&&s.push(t.slice(7))}t.keyArr=s}))},data(){return{AuthorContentList:[],isloading:!0,keyArr:[]}},created(){this.getData=(0,o.Z)(this.getData)},mounted(){this.getData()},methods:{getData(){(0,f.FQ)({axios:this.$axios}).then((({data:t})=>{this.AuthorContentList=t.data,this.$nextTick((()=>{this.isloading=!1}))}))}},components:{AuthorCard:d}},_=m,w=(0,u.Z)(_,i,l,!1,null,"7b5c70f0",null),v=w.exports}}]);
//# sourceMappingURL=278.8e018b92.js.map